import{r as d,j as o,C as l,L as h,T as m,G as f,b as c,d as p}from"./index-5cffc7bf.js";import{a as n}from"./axios-4a70c6fc.js";class j extends d.Component{constructor(a){super(a),this.state={folder:[],isLoaded:!1}}initialize(){window.scrollTo(0,0),this.setState({isLoaded:!1}),"caches"in window&&caches.open("folders").then(a=>{a.match("home").then(s=>{s?s.json().then(e=>{Date.now()-e.timestamp<5*60*1e3?this.setState({folder:e.folder,isLoaded:!0}):n.get("/images?folderId=1KEjiPWNH6mCO0b-VrK8Ax9a2PBXDgD9s").then(t=>{const r=new Response(JSON.stringify({folder:t.data.folders,timestamp:Date.now()}));a.put("home",r),this.setState({folder:t.data.folders,isLoaded:!0})}).catch(t=>{throw new Error(t)})}):n.get("/images?folderId=1KEjiPWNH6mCO0b-VrK8Ax9a2PBXDgD9s").then(e=>{console.log(e.data);const t=new Response(JSON.stringify({folder:e.data.folders,timestamp:Date.now()}));a.put("home",t),this.setState({folder:e.data.folders,isLoaded:!0})}).catch(e=>{throw new Error(e)})})})}componentDidMount(){this.initialize()}componentDidUpdate(a,s){!s.folder&&this.state.folder&&this.initialize()}render(){const{folder:a,isLoaded:s}=this.state;return o.jsxs(l,{children:[s?void 0:o.jsx(h,{}),o.jsx(m,{children:o.jsx("h3",{children:"My name is Caeoal Armentano and I am a passionate photographer dedicated to capturing the fleeting beauty of people."})}),o.jsx(f,{className:"gallery",children:a==null?void 0:a.map(({name:e,files:t,folders:r},i)=>{if(e)return o.jsxs(c,{to:`/${e}`,delay:i,children:[o.jsx("img",{src:t.length?t[Math.floor(Math.random()*t.length)].src:r[Math.floor(Math.random(r.length))].files[Math.floor(Math.random()*t.length)].src,loading:"lazy"}),o.jsx(p,{children:e})]},i)})})]})}}export{j as default};
