import{r as g,j as y,S as X,F as Q,c as B,g as Y,P as C,R as Z,u as tt,a as et,C as nt,L as ot,T as st}from"./index-5074e44c.js";function w({width:o,height:t}){return o/t}function P(o,t=0){const e=10**t;return Math.round((o+Number.EPSILON)*e)/e}function rt(o){return(t,e)=>o(e)-o(t)}class it{constructor(t){this.comparator=t,this.heap=[],this.n=0}greater(t,e){return this.comparator(this.heap[t],this.heap[e])<0}swap(t,e){const n=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=n}swim(t){let e=t,n=Math.floor(e/2);for(;e>1&&this.greater(n,e);)this.swap(n,e),e=n,n=Math.floor(e/2)}sink(t){let e=t,n=e*2;for(;n<=this.n&&(n<this.n&&this.greater(n,n+1)&&(n+=1),!!this.greater(e,n));)this.swap(e,n),e=n,n=e*2}push(t){this.n+=1,this.heap[this.n]=t,this.swim(this.n)}pop(){if(this.n===0)return;this.swap(1,this.n),this.n-=1;const t=this.heap.pop();return this.sink(1),t}size(){return this.n}}function at(o,t,e){const n=new Map,s=new Set,r=new Map;r.set(t,0);const i=new it(rt(a=>a.weight));for(i.push({id:t,weight:0});i.size()>0;){const{id:a,weight:u}=i.pop();if(!s.has(a)){const h=o(a);s.add(a),h.forEach((p,m)=>{const c=u+p,l=n.get(m),d=r.get(m);(d===void 0||d>c&&(d/c>1.005||l!==void 0&&l<a))&&(r.set(m,c),i.push({id:m,weight:c}),n.set(m,a))})}}return r.has(e)?n:void 0}function ct(o,t){const e=[];for(let n=t;n!==void 0;n=o.get(n))e.push(n);return e.reverse()}function lt(o,t,e){const n=at(o,t,e);return n?ct(n,e):void 0}function ut({photos:o,targetRowHeight:t,containerWidth:e}){const n=o.reduce((s,r)=>Math.min(w(r),s),Number.MAX_VALUE);return P(e/t/n)+2}function z(o,t,e,n){const s=t-(o.length-1)*e-2*n*o.length,r=o.reduce((i,a)=>i+w(a),0);return s/r}function ht(o,t,e,n,s,r,i){const a=o.slice(t,e),u=z(a,n,r,i);return u>0?(u-s)**2*a.length:void 0}function dt({photos:o,layoutOptions:t,targetRowHeight:e,limitNodeSearch:n,rowConstraints:s}){return r=>{var i,a;const{containerWidth:u,spacing:h,padding:p}=t,m=new Map;m.set(r,0);const c=(i=s==null?void 0:s.minPhotos)!=null?i:1,l=Math.min(n,(a=s==null?void 0:s.maxPhotos)!=null?a:1/0);for(let d=r+c;d<o.length+1&&!(d-r>l);d+=1){const f=ht(o,r,d,u,e,h,p);if(f===void 0)break;m.set(d,f)}return m}}function pt({photos:o,layoutOptions:t}){const{spacing:e,padding:n,containerWidth:s,targetRowHeight:r,rowConstraints:i}=t,a=ut({photos:o,containerWidth:s,targetRowHeight:r}),u=dt({photos:o,layoutOptions:t,targetRowHeight:r,limitNodeSearch:a,rowConstraints:i}),h=lt(u,0,o.length);if(h===void 0)return;const p=[];for(let m=1;m<h.length;m+=1){const c=o.map((d,f)=>({photo:d,index:f})).slice(h[m-1],h[m]),l=z(c.map(({photo:d})=>d),s,e,n);p.push(c.map(({photo:d,index:f},v)=>({photo:d,layout:{height:l,width:l*w(d),index:f,photoIndex:v,photosCount:c.length}})))}return p}function b(...o){return[...o].filter(t=>!!t).join(" ")}function T(o,{width:t,photosCount:e},{spacing:n,padding:s,containerWidth:r}){const i=n*(e-1)+2*s*e;return`calc((${o} - ${i}px) / ${P((r-i)/t,5)})`}function mt(o,t){return t.layout!=="rows"?`calc(100% - ${2*t.padding}px)`:T("100%",o,t)}function O(o,t,e){var n,s;return T((s=(n=o.match(/calc\((.*)\)/))==null?void 0:n[1])!=null?s:o,t,e)}function ft(o,t,e){let n,s;const r=o.srcSet||o.images;return r&&r.length>0&&(n=r.concat(r.find(({width:i})=>i===o.width)?[]:[{src:o.src,width:o.width,height:o.height}]).sort((i,a)=>i.width-a.width).map(i=>`${i.src} ${i.width}w`).join(", ")),e.sizes?s=(e.sizes.sizes||[]).map(({viewport:i,size:a})=>`${i} ${O(a,t,e)}`).concat(O(e.sizes.size,t,e)).join(", "):n&&(s=`${Math.ceil(t.width/e.containerWidth*100)}vw`),{srcSet:n,sizes:s}}function $(o){var t,e;const{photo:n,layout:s,layoutOptions:r,imageProps:{style:i,className:a,...u}={},renderPhoto:h}=o,{onClick:p}=r,m={display:"block",boxSizing:"content-box",width:mt(s,r),height:"auto",aspectRatio:`${n.width} / ${n.height}`,...r.padding?{padding:`${r.padding}px`}:null,...(r.layout==="columns"||r.layout==="masonry")&&s.photoIndex<s.photosCount-1?{marginBottom:`${r.spacing}px`}:null,...p?{cursor:"pointer"}:null,...i},c=p?v=>{p({event:v,photo:n,index:s.index})}:void 0,l={src:n.src,alt:(t=n.alt)!=null?t:"",title:n.title,onClick:c,style:m,className:b("react-photo-album--photo",a),loading:"lazy",decoding:"async",...ft(n,s,r),...u},d=v=>{const{src:k,alt:R,srcSet:x,sizes:L,style:j,...I}=l;return g.createElement("img",{alt:R,...x?{srcSet:x,sizes:L}:null,src:k,style:v!=null&&v.wrapped?{display:"block",width:"100%",height:"100%"}:j,...I})},f=(({display:v,boxSizing:k,width:R,aspectRatio:x,padding:L,marginBottom:j,cursor:I})=>({display:v,boxSizing:k,width:R,aspectRatio:x,padding:L,marginBottom:j,cursor:I}))(m);return g.createElement(g.Fragment,null,(e=h==null?void 0:h({photo:n,layout:s,layoutOptions:r,imageProps:l,renderDefaultPhoto:d,wrapperStyle:f}))!=null?e:d())}function gt({rowContainerProps:o,children:t}){return g.createElement("div",{...o},t)}function yt(o){const{layoutOptions:t,rowIndex:e,rowsCount:n,renderRowContainer:s,rowContainerProps:{style:r,className:i,...a}={},children:u}=o,h={className:b("react-photo-album--row",i),style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"flex-start",justifyContent:"space-between",...e<n-1?{marginBottom:`${t.spacing}px`}:null,...r},...a};return g.createElement(g.Fragment,null,(s??gt)({layoutOptions:t,rowIndex:e,rowsCount:n,rowContainerProps:h,children:u}))}function vt(o){const{photos:t,layoutOptions:e,renderPhoto:n,renderRowContainer:s,componentsProps:r}=o,i=pt({photos:t,layoutOptions:e});return i?g.createElement(g.Fragment,null,i.map((a,u)=>g.createElement(yt,{key:`row-${u}`,layoutOptions:e,rowIndex:u,rowsCount:i.length,renderRowContainer:s,rowContainerProps:r==null?void 0:r.rowContainerProps},a.map(({photo:h,layout:p})=>g.createElement($,{key:h.key||h.src,photo:h,layout:p,layoutOptions:e,renderPhoto:n,imageProps:r==null?void 0:r.imageProps}))))):null}function wt(o,t,e,n){const s=new Map,r=new Set;r.add(e);for(let i=0;i<t;i+=1){const a=[...r.keys()];r.clear(),a.forEach(u=>{const h=i>0?s.get(u)[i].weight:0;o(u).forEach(({neighbor:p,weight:m})=>{let c=s.get(p);c||(c=[],s.set(p,c));const l=h+m,d=c[i+1];(!d||d.weight>l&&(d.weight/l>1.0001||u<d.node))&&(c[i+1]={node:u,weight:l}),i<t-1&&p!==n&&r.add(p)})})}return s}function Ct(o,t,e){const n=[e];for(let s=e,r=t;r>0;r-=1)s=o.get(s)[r].node,n.push(s);return n.reverse()}function xt(o,t,e,n){return Ct(wt(o,t,e,n),t,n)}function Et({photos:o,spacing:t,padding:e,targetColumnWidth:n,targetColumnHeight:s}){return r=>{const i=[],a=s*1.5;let u=n/w(o[r])+2*e;for(let h=r+1;h<o.length+1&&(i.push({neighbor:h,weight:(s-u)**2}),!(u>a||h===o.length));h+=1)u+=n/w(o[h])+t+2*e;return i}}function W({path:o,photos:t,containerWidth:e,columnsGaps:n,columnsRatios:s,spacing:r,padding:i}){const a=[],u=s.reduce((h,p)=>h+p,0);for(let h=0;h<o.length-1;h+=1){const p=t.map((l,d)=>({photo:l,index:d})).slice(o[h],o[h+1]),m=s.reduce((l,d,f)=>l+(n[h]-n[f])*d,0),c=(e-(o.length-2)*r-2*(o.length-1)*i-m)*s[h]/u;a.push(p.map(({photo:l,index:d},f)=>({photo:l,layout:{width:c,height:c/w(l),index:d,photoIndex:f,photosCount:p.length}})))}return a}function Pt({photos:o,layoutOptions:t,targetColumnWidth:e}){const{columns:n,spacing:s,padding:r,containerWidth:i}=t,a=[],u=[];if(o.length<=n){const l=o.length>0?o.reduce((f,v)=>f+w(v),0)/o.length:1;for(let f=0;f<n;f+=1)a[f]=2*r,u[f]=f<o.length?w(o[f]):l;const d=W({path:Array.from({length:n+1}).map((f,v)=>Math.min(v,o.length)),photos:o,columnsRatios:u,columnsGaps:a,containerWidth:i,spacing:s,padding:r});return{columnsGaps:a,columnsRatios:u,columnsModel:d}}const h=(o.reduce((l,d)=>l+e/w(d),0)+s*(o.length-n)+2*r*o.length)/n,p=Et({photos:o,targetColumnWidth:e,targetColumnHeight:h,spacing:s,padding:r}),m=xt(p,n,0,o.length);for(let l=0;l<m.length-1;l+=1){const d=o.slice(m[l],m[l+1]);a[l]=s*(d.length-1)+2*r*d.length,u[l]=1/d.reduce((f,v)=>f+1/w(v),0)}const c=W({path:m,photos:o,columnsRatios:u,columnsGaps:a,containerWidth:i,spacing:s,padding:r});return{columnsGaps:a,columnsRatios:u,columnsModel:c}}function q(o){const{photos:t,layoutOptions:e}=o,{columns:n,spacing:s,padding:r,containerWidth:i}=e,a=(i-s*(n-1)-2*r*n)/n,{columnsGaps:u,columnsRatios:h,columnsModel:p}=Pt({photos:t,layoutOptions:e,targetColumnWidth:a});return p.findIndex(m=>m.findIndex(({layout:{width:c,height:l}})=>c<0||l<0)>=0)>=0?n>1?q({photos:t,layoutOptions:{...e,columns:n-1}}):void 0:{columnsModel:p,columnsGaps:u,columnsRatios:h}}function bt({photos:o,layoutOptions:t}){return q({photos:o,layoutOptions:t})}function kt({columnContainerProps:o,children:t}){return g.createElement("div",{...o},t)}function Rt(o){const{layoutOptions:t,columnIndex:e,columnsCount:n,columnsGaps:s,columnsRatios:r}=o,{layout:i,spacing:a,padding:u}=t;if(i==="masonry"||!s||!r)return`calc((100% - ${a*(n-1)}px) / ${n})`;const h=r.reduce((m,c)=>m+c,0),p=r.reduce((m,c,l)=>m+(s[e]-s[l])*c,0);return`calc((100% - ${P((n-1)*a+2*n*u+p,3)}px) * ${P(r[e]/h,5)} + ${2*u}px)`}function N(o){const{layoutOptions:t,renderColumnContainer:e,children:n,columnContainerProps:{style:s,className:r,...i}={},...a}=o,u={className:b("react-photo-album--column",r),style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"flex-start",width:Rt(o),justifyContent:t.layout==="columns"?"space-between":"flex-start",...s},...i};return g.createElement(g.Fragment,null,(e??kt)({layoutOptions:t,columnContainerProps:u,children:n,...a}))}function Lt(o){const{photos:t,layoutOptions:e,renderPhoto:n,renderColumnContainer:s,componentsProps:r}=o,i=bt({photos:t,layoutOptions:e});if(!i)return null;const{columnsModel:a,columnsRatios:u,columnsGaps:h}=i;return g.createElement(g.Fragment,null,a.map((p,m)=>g.createElement(N,{key:`column-${m}`,layoutOptions:e,columnIndex:m,columnsCount:a.length,columnsGaps:h,columnsRatios:u,renderColumnContainer:s,columnContainerProps:r==null?void 0:r.columnContainerProps},p.map(({photo:c,layout:l})=>g.createElement($,{key:c.key||c.src,photo:c,layout:l,layoutOptions:e,renderPhoto:n,imageProps:r==null?void 0:r.imageProps})))))}function F(o){const{photos:t,layoutOptions:e}=o,{columns:n,spacing:s,padding:r,containerWidth:i}=e,a=(i-s*(n-1)-2*r*n)/n;if(a<=0)return n>1?F({...o,layoutOptions:{...e,columns:n-1}}):void 0;const u=[];for(let p=0;p<n;p+=1)u[p]=0;return t.reduce((p,m,c)=>{const l=u.reduce((d,f,v)=>f<u[d]-1?v:d,0);return u[l]=u[l]+a/w(m)+s+2*r,p[l].push({photo:m,index:c}),p},Array.from({length:n}).map(()=>[])).map(p=>p.map(({photo:m,index:c},l)=>({photo:m,layout:{width:a,height:a/w(m),index:c,photoIndex:l,photosCount:p.length}})))}function jt(o){const{photos:t,layoutOptions:e,renderPhoto:n,renderColumnContainer:s,componentsProps:r}=o,i=F({photos:t,layoutOptions:e});return i?g.createElement(g.Fragment,null,i.map((a,u)=>g.createElement(N,{key:`masonry-column-${u}`,layoutOptions:e,columnsCount:i.length,columnIndex:u,renderColumnContainer:s,columnContainerProps:r==null?void 0:r.columnContainerProps},a.map(({photo:h,layout:p})=>g.createElement($,{key:h.key||h.src,photo:h,layout:p,layoutOptions:e,renderPhoto:n,imageProps:r==null?void 0:r.imageProps}))))):null}function It({containerProps:o,children:t,containerRef:e}){return g.createElement("div",{ref:e,...o},t)}function St(o){const{layout:t,renderContainer:e,children:n,containerRef:s,containerProps:{style:r,className:i,...a}={}}=o,u={className:b("react-photo-album",`react-photo-album--${t}`,i),style:{display:"flex",flexWrap:"nowrap",justifyContent:"space-between",flexDirection:t==="rows"?"column":"row",...r},...a};return g.createElement(g.Fragment,null,(e??It)({containerProps:u,containerRef:s,layout:t,children:n}))}function Mt(o){const t=g.useRef(o);return(!o||!t.current||o.join()!==t.current.join())&&(t.current=o),t.current}function $t(o,{newContainerWidth:t,newScrollbarWidth:e}){const{containerWidth:n,scrollbarWidth:s}=o;return n!==void 0&&s!==void 0&&t!==void 0&&e!==void 0&&t>n&&t-n<=20&&e<s?{containerWidth:n,scrollbarWidth:e}:n!==t||s!==e?{containerWidth:t,scrollbarWidth:e}:o}function Ot(o,t){let e=o==null?void 0:o.clientWidth;if(e!==void 0&&t&&t.length>0){const n=[...t.filter(r=>r>0)].sort((r,i)=>i-r);n.push(Math.floor(n[n.length-1]/2));const s=e;e=n.find((r,i)=>r<=s||i===n.length-1)}return e}function Wt(o,t){const[{containerWidth:e},n]=g.useReducer($t,{containerWidth:t}),s=g.useRef(null),r=g.useRef();return{containerRef:g.useCallback(a=>{var u;(u=r.current)==null||u.disconnect(),r.current=void 0,s.current=a;const h=()=>n({newContainerWidth:Ot(s.current,o),newScrollbarWidth:window.innerWidth-document.documentElement.clientWidth});h(),a&&typeof ResizeObserver<"u"&&(r.current=new ResizeObserver(h),r.current.observe(a))},[o]),containerWidth:e}}const At=Object.freeze([1200,600,300,0]);function H(o,t){return typeof o=="function"?o(t):o}function G(o,t){return typeof o<"u"?H(o,t):void 0}function Dt(o,t){const e=At.findIndex(n=>n<=t);return H(o[e>=0?e:0],t)}function E(o,t,e,n=0){const s=G(o,t);return Math.round(Math.max(s===void 0?Dt(e,t):s,n))}function _t({layout:o,onClick:t,containerWidth:e,targetRowHeight:n,rowConstraints:s,columns:r,spacing:i,padding:a,sizes:u}){return{layout:o,onClick:t,containerWidth:e,columns:E(r,e,[5,4,3,2],1),spacing:E(i,e,[20,15,10,5]),padding:E(a,e,[0,0,0,0,0]),targetRowHeight:E(n,e,[h=>h/5,h=>h/4,h=>h/3,h=>h/2]),rowConstraints:G(s,e),sizes:u}}function Bt(o,t){return typeof o=="function"?o(t):o}function zt(o,t,e){const{photos:n,layout:s,renderPhoto:r,renderRowContainer:i,renderColumnContainer:a}=o,u=_t({containerWidth:t,...o}),h={photos:n,renderPhoto:r,componentsProps:e};return s==="rows"?g.createElement(vt,{layoutOptions:u,renderRowContainer:i,...h}):s==="columns"?g.createElement(Lt,{layoutOptions:u,renderColumnContainer:a,...h}):g.createElement(jt,{layoutOptions:u,renderColumnContainer:a,...h})}function A(o){const{photos:t,layout:e,renderContainer:n,defaultContainerWidth:s,breakpoints:r}=o,{containerRef:i,containerWidth:a}=Wt(Mt(r),s);if(!e||!["rows","columns","masonry"].includes(e)||!Array.isArray(t))return null;const u=Bt(o.componentsProps,a);return g.createElement(St,{layout:e,containerRef:i,renderContainer:n,containerProps:u==null?void 0:u.containerProps},a?zt(o,a,u):null)}class Tt extends g.Component{constructor(t){super(t),this.state={isScrolled:!1}}componentDidMount(){window.addEventListener("scroll",()=>{window.scrollY>=200?this.setState({isScrolled:!0}):this.setState({isScrolled:!1})})}render(){const{isScrolled:t}=this.state;return y.jsx(X,{scrolled:t?"flex":"none",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:y.jsx(Q,{icon:["fas","chevron-up"]})})}}var U={exports:{}},S={exports:{}},D;function qt(){return D||(D=1,function(o){(function(t,e){o.exports?o.exports=e():t.EvEmitter=e()})(typeof window<"u"?window:B,function(){function t(){}let e=t.prototype;return e.on=function(n,s){if(!n||!s)return this;let r=this._events=this._events||{},i=r[n]=r[n]||[];return i.includes(s)||i.push(s),this},e.once=function(n,s){if(!n||!s)return this;this.on(n,s);let r=this._onceEvents=this._onceEvents||{},i=r[n]=r[n]||{};return i[s]=!0,this},e.off=function(n,s){let r=this._events&&this._events[n];if(!r||!r.length)return this;let i=r.indexOf(s);return i!=-1&&r.splice(i,1),this},e.emitEvent=function(n,s){let r=this._events&&this._events[n];if(!r||!r.length)return this;r=r.slice(0),s=s||[];let i=this._onceEvents&&this._onceEvents[n];for(let a of r)i&&i[a]&&(this.off(n,a),delete i[a]),a.apply(this,s);return this},e.allOff=function(){return delete this._events,delete this._onceEvents,this},t})}(S)),S.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(o){(function(t,e){o.exports?o.exports=e(t,qt()):t.imagesLoaded=e(t,t.EvEmitter)})(typeof window<"u"?window:B,function(e,n){let s=e.jQuery,r=e.console;function i(c){return Array.isArray(c)?c:typeof c=="object"&&typeof c.length=="number"?[...c]:[c]}function a(c,l,d){if(!(this instanceof a))return new a(c,l,d);let f=c;if(typeof c=="string"&&(f=document.querySelectorAll(c)),!f){r.error(`Bad element for imagesLoaded ${f||c}`);return}this.elements=i(f),this.options={},typeof l=="function"?d=l:Object.assign(this.options,l),d&&this.on("always",d),this.getImages(),s&&(this.jqDeferred=new s.Deferred),setTimeout(this.check.bind(this))}a.prototype=Object.create(n.prototype),a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const u=[1,9,11];a.prototype.addElementImages=function(c){c.nodeName==="IMG"&&this.addImage(c),this.options.background===!0&&this.addElementBackgroundImages(c);let{nodeType:l}=c;if(!l||!u.includes(l))return;let d=c.querySelectorAll("img");for(let f of d)this.addImage(f);if(typeof this.options.background=="string"){let f=c.querySelectorAll(this.options.background);for(let v of f)this.addElementBackgroundImages(v)}};const h=/url\((['"])?(.*?)\1\)/gi;a.prototype.addElementBackgroundImages=function(c){let l=getComputedStyle(c);if(!l)return;let d=h.exec(l.backgroundImage);for(;d!==null;){let f=d&&d[2];f&&this.addBackground(f,c),d=h.exec(l.backgroundImage)}},a.prototype.addImage=function(c){let l=new p(c);this.images.push(l)},a.prototype.addBackground=function(c,l){let d=new m(c,l);this.images.push(d)},a.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let c=(l,d,f)=>{setTimeout(()=>{this.progress(l,d,f)})};this.images.forEach(function(l){l.once("progress",c),l.check()})},a.prototype.progress=function(c,l,d){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!c.isLoaded,this.emitEvent("progress",[this,c,l]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,c),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&r&&r.log(`progress: ${d}`,c,l)},a.prototype.complete=function(){let c=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(c,[this]),this.emitEvent("always",[this]),this.jqDeferred){let l=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[l](this)}};function p(c){this.img=c}p.prototype=Object.create(n.prototype),p.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},p.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},p.prototype.confirm=function(c,l){this.isLoaded=c;let{parentNode:d}=this.img,f=d.nodeName==="PICTURE"?d:this.img;this.emitEvent("progress",[this,f,l])},p.prototype.handleEvent=function(c){let l="on"+c.type;this[l]&&this[l](c)},p.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},p.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},p.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function m(c,l){this.url=c,this.element=l,this.img=new Image}return m.prototype=Object.create(p.prototype),m.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},m.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},m.prototype.confirm=function(c,l){this.isLoaded=c,this.emitEvent("progress",[this,this.element,l])},a.makeJQueryPlugin=function(c){c=c||e.jQuery,c&&(s=c,s.fn.imagesLoaded=function(l,d){return new a(this,l,d).jqDeferred.promise(s(this))})},a.makeJQueryPlugin(),a})})(U);var Nt=U.exports;const Ft=Y(Nt);function V(o){var e;const t=(e=o.src)==null?void 0:e.replace(/(.*)view.*$/,"$1preview?autoplay=1");return o.fileType==="image"?y.jsx("img",{src:t,alt:""}):y.jsx("iframe",{src:t,frameBorder:"0",allowFullScreen:!0})}class J extends g.Component{constructor(t){super(t)}componentDidUpdate(){this.props.state&&document.body.style.overflow!=="hidden"?document.body.style.overflow="hidden":!this.props.state&&document.body.style.overflow!=="unset"&&(document.body.style.overflow="unset")}componentWillUnmount(){document.body.style.overflow="unset"}render(){var t,e;return y.jsx(Z,{isOpen:this.props.state,onRequestClose:this.props.close,style:{content:{padding:0,position:"absolute",display:"flex",justifyContent:"center",transform:"translate(-50%, -50%)",right:"auto",bottom:"auto",maxHeight:"90vh",aspectRatio:`${(t=this.props.file)==null?void 0:t.width} / ${(e=this.props.file)==null?void 0:e.height}`,height:"auto",width:"auto"},overlay:{backgroundColor:"var(--overlay-color)"}},children:y.jsx(V,{...this.props.file})})}}J.propTypes={close:C.func,state:C.bool,file:C.object};V.propTypes={fileType:C.string,src:C.string};function Ht(o){return function(e){const n=tt(),s=et();return y.jsx(o,{...e,params:n,location:s})}}function _(o){return o<768?o/1.5:o/2.5}function M(o){const{imageProps:t,photo:e}=o;return t.src=`https://keyol.vercel.app/image?url=${encodeURIComponent(e.thumbnailLink)}`,y.jsx("img",{...t})}class K extends g.Component{constructor(t){super(t),this.state={folders:{},isLoaded:!1,title:this.props.title,modal:{state:!1,file:{}}}}initialize(){window.scrollTo(0,0),this.setState({isLoaded:!1,folders:{},title:this.props.title}),"caches"in window&&caches.open("images").then(t=>{t.match(this.props.title).then(e=>{e?e.json().then(n=>{Date.now()-n.timestamp<5*60*1e3?this.setState({folders:n.folders,isLoaded:!0}):fetch(`https://keyol.vercel.app/images?folderId=1KEjiPWNH6mCO0b-VrK8Ax9a2PBXDgD9s&folderPath=${this.props.location.pathname.substring(1)}`).then(s=>s.json()).then(s=>{const r=new Response(JSON.stringify({folders:s,timestamp:Date.now()}));t.put(this.props.title,r),this.setState({folders:s,isLoaded:!0})}).catch(s=>{throw new Error(s)})}):fetch(`https://keyol.vercel.app/images?folderId=1KEjiPWNH6mCO0b-VrK8Ax9a2PBXDgD9s&folderPath=${this.props.location.pathname.substring(1)}`).then(n=>n.json()).then(n=>{const s=new Response(JSON.stringify({folders:n,timestamp:Date.now()}));t.put(this.props.title,s),this.setState({folders:n,isLoaded:!0})}).catch(n=>{throw new Error(n)})})})}componentDidMount(){this.initialize()}componentDidUpdate(t,e){t.title!==this.props.title&&this.initialize(),!e.folders&&this.state.folders&&Ft(".react-photo-album",n=>{!n.images.length&&this.state.isLoaded||this.setState({isLoaded:!0})})}render(){var r;const{isLoaded:t,title:e,modal:n,folders:s}=this.state;return y.jsxs(y.Fragment,{children:[y.jsx(J,{...n,close:()=>this.setState({modal:{state:!1,src:""}})}),y.jsxs(nt,{children:[t?void 0:y.jsx(ot,{}),y.jsx(st,{children:y.jsx("h2",{children:e})}),(r=s==null?void 0:s.folders)==null?void 0:r.map(({files:i,name:a})=>y.jsx(A,{layout:"rows",photos:i,targetRowHeight:_,onClick:({index:u})=>{this.setState({modal:{state:!0,file:i[u]}})},renderPhoto:u=>y.jsx(M,{...u})},a)),y.jsx(A,{layout:"rows",photos:s==null?void 0:s.files,targetRowHeight:_,onClick:({index:i})=>{this.setState({modal:{state:!0,file:s==null?void 0:s.files[i]}})},renderPhoto:i=>y.jsx(M,{...i})}),y.jsx(Tt,{})]})]})}}const Ut=Ht(K);K.propTypes={title:C.string,location:C.object};M.propTypes={photo:C.object,imageProps:C.object};export{Ut as default};
