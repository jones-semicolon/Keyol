import{r as l,j as o,C as h,L as m,T as f,G as c,b as p,d as g}from"./index-2c244ab2.js";import{a as d}from"./axios-4a70c6fc.js";class w extends l.Component{constructor(a){super(a),this.state={folder:[],isLoaded:!1}}initialize(){window.scrollTo(0,0),this.setState({isLoaded:!1}),"caches"in window&&caches.open("folders").then(a=>{a.match("home").then(s=>{s?s.json().then(t=>{Date.now()-t.timestamp<5*60*1e3?this.setState({folder:t.folder,isLoaded:!0}):d.get("/images?folderId=1KEjiPWNH6mCO0b-VrK8Ax9a2PBXDgD9s").then(e=>{const r=new Response(JSON.stringify({folder:e.data.folders,timestamp:Date.now()}));a.put("home",r),this.setState({folder:e.data.folders,isLoaded:!0})}).catch(e=>{throw new Error(e)})}):d.get("/images?folderId=1KEjiPWNH6mCO0b-VrK8Ax9a2PBXDgD9s").then(t=>{const e=new Response(JSON.stringify({folder:t.data.folders,timestamp:Date.now()}));a.put("home",e),this.setState({folder:t.data.folders,isLoaded:!0})}).catch(t=>{throw new Error(t)})})})}componentDidMount(){this.initialize()}componentDidUpdate(a,s){!s.folder&&this.state.folder&&this.initialize()}render(){const{folder:a,isLoaded:s}=this.state;return o.jsxs(h,{children:[s?void 0:o.jsx(m,{}),o.jsx(f,{children:o.jsx("h3",{children:"My name is Caeoal Armentano and I am a passionate photographer dedicated to capturing the fleeting beauty of people."})}),o.jsx(c,{className:"gallery",children:a==null?void 0:a.map(({name:t,files:e,folders:r},i)=>{var n;if(!(!t&&!e.length))return o.jsxs(p,{to:`/${t}`,delay:i,children:[o.jsx("img",{src:e.length?e[Math.floor(Math.random()*e.length)].src:(n=r[Math.floor(Math.random(r.length))])==null?void 0:n.files[Math.floor(Math.random()*e.length)].src,loading:"lazy"}),o.jsx(g,{children:t})]},i)})})]})}}export{w as default};
