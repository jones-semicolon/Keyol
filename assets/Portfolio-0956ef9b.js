import{r as g,j as y,S as X,F as Q,c as B,g as Y,P as C,R as Z,u as tt,a as et,C as nt,L as ot,T as st}from"./index-ec049109.js";function w({width:e,height:t}){return e/t}function P(e,t=0){const n=10**t;return Math.round((e+Number.EPSILON)*n)/n}function rt(e){return(t,n)=>e(n)-e(t)}class it{constructor(t){this.comparator=t,this.heap=[],this.n=0}greater(t,n){return this.comparator(this.heap[t],this.heap[n])<0}swap(t,n){const o=this.heap[t];this.heap[t]=this.heap[n],this.heap[n]=o}swim(t){let n=t,o=Math.floor(n/2);for(;n>1&&this.greater(o,n);)this.swap(o,n),n=o,o=Math.floor(n/2)}sink(t){let n=t,o=n*2;for(;o<=this.n&&(o<this.n&&this.greater(o,o+1)&&(o+=1),!!this.greater(n,o));)this.swap(n,o),n=o,o=n*2}push(t){this.n+=1,this.heap[this.n]=t,this.swim(this.n)}pop(){if(this.n===0)return;this.swap(1,this.n),this.n-=1;const t=this.heap.pop();return this.sink(1),t}size(){return this.n}}function at(e,t,n){const o=new Map,s=new Set,r=new Map;r.set(t,0);const i=new it(rt(a=>a.weight));for(i.push({id:t,weight:0});i.size()>0;){const{id:a,weight:u}=i.pop();if(!s.has(a)){const h=e(a);s.add(a),h.forEach((p,m)=>{const c=u+p,l=o.get(m),d=r.get(m);(d===void 0||d>c&&(d/c>1.005||l!==void 0&&l<a))&&(r.set(m,c),i.push({id:m,weight:c}),o.set(m,a))})}}return r.has(n)?o:void 0}function ct(e,t){const n=[];for(let o=t;o!==void 0;o=e.get(o))n.push(o);return n.reverse()}function lt(e,t,n){const o=at(e,t,n);return o?ct(o,n):void 0}function ut({photos:e,targetRowHeight:t,containerWidth:n}){const o=e.reduce((s,r)=>Math.min(w(r),s),Number.MAX_VALUE);return P(n/t/o)+2}function z(e,t,n,o){const s=t-(e.length-1)*n-2*o*e.length,r=e.reduce((i,a)=>i+w(a),0);return s/r}function ht(e,t,n,o,s,r,i){const a=e.slice(t,n),u=z(a,o,r,i);return u>0?(u-s)**2*a.length:void 0}function dt({photos:e,layoutOptions:t,targetRowHeight:n,limitNodeSearch:o,rowConstraints:s}){return r=>{var i,a;const{containerWidth:u,spacing:h,padding:p}=t,m=new Map;m.set(r,0);const c=(i=s==null?void 0:s.minPhotos)!=null?i:1,l=Math.min(o,(a=s==null?void 0:s.maxPhotos)!=null?a:1/0);for(let d=r+c;d<e.length+1&&!(d-r>l);d+=1){const f=ht(e,r,d,u,n,h,p);if(f===void 0)break;m.set(d,f)}return m}}function pt({photos:e,layoutOptions:t}){const{spacing:n,padding:o,containerWidth:s,targetRowHeight:r,rowConstraints:i}=t,a=ut({photos:e,containerWidth:s,targetRowHeight:r}),u=dt({photos:e,layoutOptions:t,targetRowHeight:r,limitNodeSearch:a,rowConstraints:i}),h=lt(u,0,e.length);if(h===void 0)return;const p=[];for(let m=1;m<h.length;m+=1){const c=e.map((d,f)=>({photo:d,index:f})).slice(h[m-1],h[m]),l=z(c.map(({photo:d})=>d),s,n,o);p.push(c.map(({photo:d,index:f},v)=>({photo:d,layout:{height:l,width:l*w(d),index:f,photoIndex:v,photosCount:c.length}})))}return p}function b(...e){return[...e].filter(t=>!!t).join(" ")}function T(e,{width:t,photosCount:n},{spacing:o,padding:s,containerWidth:r}){const i=o*(n-1)+2*s*n;return`calc((${e} - ${i}px) / ${P((r-i)/t,5)})`}function mt(e,t){return t.layout!=="rows"?`calc(100% - ${2*t.padding}px)`:T("100%",e,t)}function O(e,t,n){var o,s;return T((s=(o=e.match(/calc\((.*)\)/))==null?void 0:o[1])!=null?s:e,t,n)}function ft(e,t,n){let o,s;const r=e.srcSet||e.images;return r&&r.length>0&&(o=r.concat(r.find(({width:i})=>i===e.width)?[]:[{src:e.src,width:e.width,height:e.height}]).sort((i,a)=>i.width-a.width).map(i=>`${i.src} ${i.width}w`).join(", ")),n.sizes?s=(n.sizes.sizes||[]).map(({viewport:i,size:a})=>`${i} ${O(a,t,n)}`).concat(O(n.sizes.size,t,n)).join(", "):o&&(s=`${Math.ceil(t.width/n.containerWidth*100)}vw`),{srcSet:o,sizes:s}}function $(e){var t,n;const{photo:o,layout:s,layoutOptions:r,imageProps:{style:i,className:a,...u}={},renderPhoto:h}=e,{onClick:p}=r,m={display:"block",boxSizing:"content-box",width:mt(s,r),height:"auto",aspectRatio:`${o.width} / ${o.height}`,...r.padding?{padding:`${r.padding}px`}:null,...(r.layout==="columns"||r.layout==="masonry")&&s.photoIndex<s.photosCount-1?{marginBottom:`${r.spacing}px`}:null,...p?{cursor:"pointer"}:null,...i},c=p?v=>{p({event:v,photo:o,index:s.index})}:void 0,l={src:o.src,alt:(t=o.alt)!=null?t:"",title:o.title,onClick:c,style:m,className:b("react-photo-album--photo",a),loading:"lazy",decoding:"async",...ft(o,s,r),...u},d=v=>{const{src:k,alt:R,srcSet:x,sizes:L,style:j,...I}=l;return g.createElement("img",{alt:R,...x?{srcSet:x,sizes:L}:null,src:k,style:v!=null&&v.wrapped?{display:"block",width:"100%",height:"100%"}:j,...I})},f=(({display:v,boxSizing:k,width:R,aspectRatio:x,padding:L,marginBottom:j,cursor:I})=>({display:v,boxSizing:k,width:R,aspectRatio:x,padding:L,marginBottom:j,cursor:I}))(m);return g.createElement(g.Fragment,null,(n=h==null?void 0:h({photo:o,layout:s,layoutOptions:r,imageProps:l,renderDefaultPhoto:d,wrapperStyle:f}))!=null?n:d())}function gt({rowContainerProps:e,children:t}){return g.createElement("div",{...e},t)}function yt(e){const{layoutOptions:t,rowIndex:n,rowsCount:o,renderRowContainer:s,rowContainerProps:{style:r,className:i,...a}={},children:u}=e,h={className:b("react-photo-album--row",i),style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"flex-start",justifyContent:"space-between",...n<o-1?{marginBottom:`${t.spacing}px`}:null,...r},...a};return g.createElement(g.Fragment,null,(s??gt)({layoutOptions:t,rowIndex:n,rowsCount:o,rowContainerProps:h,children:u}))}function vt(e){const{photos:t,layoutOptions:n,renderPhoto:o,renderRowContainer:s,componentsProps:r}=e,i=pt({photos:t,layoutOptions:n});return i?g.createElement(g.Fragment,null,i.map((a,u)=>g.createElement(yt,{key:`row-${u}`,layoutOptions:n,rowIndex:u,rowsCount:i.length,renderRowContainer:s,rowContainerProps:r==null?void 0:r.rowContainerProps},a.map(({photo:h,layout:p})=>g.createElement($,{key:h.key||h.src,photo:h,layout:p,layoutOptions:n,renderPhoto:o,imageProps:r==null?void 0:r.imageProps}))))):null}function wt(e,t,n,o){const s=new Map,r=new Set;r.add(n);for(let i=0;i<t;i+=1){const a=[...r.keys()];r.clear(),a.forEach(u=>{const h=i>0?s.get(u)[i].weight:0;e(u).forEach(({neighbor:p,weight:m})=>{let c=s.get(p);c||(c=[],s.set(p,c));const l=h+m,d=c[i+1];(!d||d.weight>l&&(d.weight/l>1.0001||u<d.node))&&(c[i+1]={node:u,weight:l}),i<t-1&&p!==o&&r.add(p)})})}return s}function Ct(e,t,n){const o=[n];for(let s=n,r=t;r>0;r-=1)s=e.get(s)[r].node,o.push(s);return o.reverse()}function xt(e,t,n,o){return Ct(wt(e,t,n,o),t,o)}function Et({photos:e,spacing:t,padding:n,targetColumnWidth:o,targetColumnHeight:s}){return r=>{const i=[],a=s*1.5;let u=o/w(e[r])+2*n;for(let h=r+1;h<e.length+1&&(i.push({neighbor:h,weight:(s-u)**2}),!(u>a||h===e.length));h+=1)u+=o/w(e[h])+t+2*n;return i}}function W({path:e,photos:t,containerWidth:n,columnsGaps:o,columnsRatios:s,spacing:r,padding:i}){const a=[],u=s.reduce((h,p)=>h+p,0);for(let h=0;h<e.length-1;h+=1){const p=t.map((l,d)=>({photo:l,index:d})).slice(e[h],e[h+1]),m=s.reduce((l,d,f)=>l+(o[h]-o[f])*d,0),c=(n-(e.length-2)*r-2*(e.length-1)*i-m)*s[h]/u;a.push(p.map(({photo:l,index:d},f)=>({photo:l,layout:{width:c,height:c/w(l),index:d,photoIndex:f,photosCount:p.length}})))}return a}function Pt({photos:e,layoutOptions:t,targetColumnWidth:n}){const{columns:o,spacing:s,padding:r,containerWidth:i}=t,a=[],u=[];if(e.length<=o){const l=e.length>0?e.reduce((f,v)=>f+w(v),0)/e.length:1;for(let f=0;f<o;f+=1)a[f]=2*r,u[f]=f<e.length?w(e[f]):l;const d=W({path:Array.from({length:o+1}).map((f,v)=>Math.min(v,e.length)),photos:e,columnsRatios:u,columnsGaps:a,containerWidth:i,spacing:s,padding:r});return{columnsGaps:a,columnsRatios:u,columnsModel:d}}const h=(e.reduce((l,d)=>l+n/w(d),0)+s*(e.length-o)+2*r*e.length)/o,p=Et({photos:e,targetColumnWidth:n,targetColumnHeight:h,spacing:s,padding:r}),m=xt(p,o,0,e.length);for(let l=0;l<m.length-1;l+=1){const d=e.slice(m[l],m[l+1]);a[l]=s*(d.length-1)+2*r*d.length,u[l]=1/d.reduce((f,v)=>f+1/w(v),0)}const c=W({path:m,photos:e,columnsRatios:u,columnsGaps:a,containerWidth:i,spacing:s,padding:r});return{columnsGaps:a,columnsRatios:u,columnsModel:c}}function q(e){const{photos:t,layoutOptions:n}=e,{columns:o,spacing:s,padding:r,containerWidth:i}=n,a=(i-s*(o-1)-2*r*o)/o,{columnsGaps:u,columnsRatios:h,columnsModel:p}=Pt({photos:t,layoutOptions:n,targetColumnWidth:a});return p.findIndex(m=>m.findIndex(({layout:{width:c,height:l}})=>c<0||l<0)>=0)>=0?o>1?q({photos:t,layoutOptions:{...n,columns:o-1}}):void 0:{columnsModel:p,columnsGaps:u,columnsRatios:h}}function bt({photos:e,layoutOptions:t}){return q({photos:e,layoutOptions:t})}function kt({columnContainerProps:e,children:t}){return g.createElement("div",{...e},t)}function Rt(e){const{layoutOptions:t,columnIndex:n,columnsCount:o,columnsGaps:s,columnsRatios:r}=e,{layout:i,spacing:a,padding:u}=t;if(i==="masonry"||!s||!r)return`calc((100% - ${a*(o-1)}px) / ${o})`;const h=r.reduce((m,c)=>m+c,0),p=r.reduce((m,c,l)=>m+(s[n]-s[l])*c,0);return`calc((100% - ${P((o-1)*a+2*o*u+p,3)}px) * ${P(r[n]/h,5)} + ${2*u}px)`}function N(e){const{layoutOptions:t,renderColumnContainer:n,children:o,columnContainerProps:{style:s,className:r,...i}={},...a}=e,u={className:b("react-photo-album--column",r),style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"flex-start",width:Rt(e),justifyContent:t.layout==="columns"?"space-between":"flex-start",...s},...i};return g.createElement(g.Fragment,null,(n??kt)({layoutOptions:t,columnContainerProps:u,children:o,...a}))}function Lt(e){const{photos:t,layoutOptions:n,renderPhoto:o,renderColumnContainer:s,componentsProps:r}=e,i=bt({photos:t,layoutOptions:n});if(!i)return null;const{columnsModel:a,columnsRatios:u,columnsGaps:h}=i;return g.createElement(g.Fragment,null,a.map((p,m)=>g.createElement(N,{key:`column-${m}`,layoutOptions:n,columnIndex:m,columnsCount:a.length,columnsGaps:h,columnsRatios:u,renderColumnContainer:s,columnContainerProps:r==null?void 0:r.columnContainerProps},p.map(({photo:c,layout:l})=>g.createElement($,{key:c.key||c.src,photo:c,layout:l,layoutOptions:n,renderPhoto:o,imageProps:r==null?void 0:r.imageProps})))))}function F(e){const{photos:t,layoutOptions:n}=e,{columns:o,spacing:s,padding:r,containerWidth:i}=n,a=(i-s*(o-1)-2*r*o)/o;if(a<=0)return o>1?F({...e,layoutOptions:{...n,columns:o-1}}):void 0;const u=[];for(let p=0;p<o;p+=1)u[p]=0;return t.reduce((p,m,c)=>{const l=u.reduce((d,f,v)=>f<u[d]-1?v:d,0);return u[l]=u[l]+a/w(m)+s+2*r,p[l].push({photo:m,index:c}),p},Array.from({length:o}).map(()=>[])).map(p=>p.map(({photo:m,index:c},l)=>({photo:m,layout:{width:a,height:a/w(m),index:c,photoIndex:l,photosCount:p.length}})))}function jt(e){const{photos:t,layoutOptions:n,renderPhoto:o,renderColumnContainer:s,componentsProps:r}=e,i=F({photos:t,layoutOptions:n});return i?g.createElement(g.Fragment,null,i.map((a,u)=>g.createElement(N,{key:`masonry-column-${u}`,layoutOptions:n,columnsCount:i.length,columnIndex:u,renderColumnContainer:s,columnContainerProps:r==null?void 0:r.columnContainerProps},a.map(({photo:h,layout:p})=>g.createElement($,{key:h.key||h.src,photo:h,layout:p,layoutOptions:n,renderPhoto:o,imageProps:r==null?void 0:r.imageProps}))))):null}function It({containerProps:e,children:t,containerRef:n}){return g.createElement("div",{ref:n,...e},t)}function St(e){const{layout:t,renderContainer:n,children:o,containerRef:s,containerProps:{style:r,className:i,...a}={}}=e,u={className:b("react-photo-album",`react-photo-album--${t}`,i),style:{display:"flex",flexWrap:"nowrap",justifyContent:"space-between",flexDirection:t==="rows"?"column":"row",...r},...a};return g.createElement(g.Fragment,null,(n??It)({containerProps:u,containerRef:s,layout:t,children:o}))}function Mt(e){const t=g.useRef(e);return(!e||!t.current||e.join()!==t.current.join())&&(t.current=e),t.current}function $t(e,{newContainerWidth:t,newScrollbarWidth:n}){const{containerWidth:o,scrollbarWidth:s}=e;return o!==void 0&&s!==void 0&&t!==void 0&&n!==void 0&&t>o&&t-o<=20&&n<s?{containerWidth:o,scrollbarWidth:n}:o!==t||s!==n?{containerWidth:t,scrollbarWidth:n}:e}function Ot(e,t){let n=e==null?void 0:e.clientWidth;if(n!==void 0&&t&&t.length>0){const o=[...t.filter(r=>r>0)].sort((r,i)=>i-r);o.push(Math.floor(o[o.length-1]/2));const s=n;n=o.find((r,i)=>r<=s||i===o.length-1)}return n}function Wt(e,t){const[{containerWidth:n},o]=g.useReducer($t,{containerWidth:t}),s=g.useRef(null),r=g.useRef();return{containerRef:g.useCallback(a=>{var u;(u=r.current)==null||u.disconnect(),r.current=void 0,s.current=a;const h=()=>o({newContainerWidth:Ot(s.current,e),newScrollbarWidth:window.innerWidth-document.documentElement.clientWidth});h(),a&&typeof ResizeObserver<"u"&&(r.current=new ResizeObserver(h),r.current.observe(a))},[e]),containerWidth:n}}const At=Object.freeze([1200,600,300,0]);function H(e,t){return typeof e=="function"?e(t):e}function G(e,t){return typeof e<"u"?H(e,t):void 0}function Dt(e,t){const n=At.findIndex(o=>o<=t);return H(e[n>=0?n:0],t)}function E(e,t,n,o=0){const s=G(e,t);return Math.round(Math.max(s===void 0?Dt(n,t):s,o))}function _t({layout:e,onClick:t,containerWidth:n,targetRowHeight:o,rowConstraints:s,columns:r,spacing:i,padding:a,sizes:u}){return{layout:e,onClick:t,containerWidth:n,columns:E(r,n,[5,4,3,2],1),spacing:E(i,n,[20,15,10,5]),padding:E(a,n,[0,0,0,0,0]),targetRowHeight:E(o,n,[h=>h/5,h=>h/4,h=>h/3,h=>h/2]),rowConstraints:G(s,n),sizes:u}}function Bt(e,t){return typeof e=="function"?e(t):e}function zt(e,t,n){const{photos:o,layout:s,renderPhoto:r,renderRowContainer:i,renderColumnContainer:a}=e,u=_t({containerWidth:t,...e}),h={photos:o,renderPhoto:r,componentsProps:n};return s==="rows"?g.createElement(vt,{layoutOptions:u,renderRowContainer:i,...h}):s==="columns"?g.createElement(Lt,{layoutOptions:u,renderColumnContainer:a,...h}):g.createElement(jt,{layoutOptions:u,renderColumnContainer:a,...h})}function A(e){const{photos:t,layout:n,renderContainer:o,defaultContainerWidth:s,breakpoints:r}=e,{containerRef:i,containerWidth:a}=Wt(Mt(r),s);if(!n||!["rows","columns","masonry"].includes(n)||!Array.isArray(t))return null;const u=Bt(e.componentsProps,a);return g.createElement(St,{layout:n,containerRef:i,renderContainer:o,containerProps:u==null?void 0:u.containerProps},a?zt(e,a,u):null)}class Tt extends g.Component{constructor(t){super(t),this.state={isScrolled:!1}}componentDidMount(){window.addEventListener("scroll",()=>{window.scrollY>=200?this.setState({isScrolled:!0}):this.setState({isScrolled:!1})})}render(){const{isScrolled:t}=this.state;return y.jsx(X,{scrolled:t?"flex":"none",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:y.jsx(Q,{icon:["fas","chevron-up"]})})}}var U={exports:{}},S={exports:{}},D;function qt(){return D||(D=1,function(e){(function(t,n){e.exports?e.exports=n():t.EvEmitter=n()})(typeof window<"u"?window:B,function(){function t(){}let n=t.prototype;return n.on=function(o,s){if(!o||!s)return this;let r=this._events=this._events||{},i=r[o]=r[o]||[];return i.includes(s)||i.push(s),this},n.once=function(o,s){if(!o||!s)return this;this.on(o,s);let r=this._onceEvents=this._onceEvents||{},i=r[o]=r[o]||{};return i[s]=!0,this},n.off=function(o,s){let r=this._events&&this._events[o];if(!r||!r.length)return this;let i=r.indexOf(s);return i!=-1&&r.splice(i,1),this},n.emitEvent=function(o,s){let r=this._events&&this._events[o];if(!r||!r.length)return this;r=r.slice(0),s=s||[];let i=this._onceEvents&&this._onceEvents[o];for(let a of r)i&&i[a]&&(this.off(o,a),delete i[a]),a.apply(this,s);return this},n.allOff=function(){return delete this._events,delete this._onceEvents,this},t})}(S)),S.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(e){(function(t,n){e.exports?e.exports=n(t,qt()):t.imagesLoaded=n(t,t.EvEmitter)})(typeof window<"u"?window:B,function(n,o){let s=n.jQuery,r=n.console;function i(c){return Array.isArray(c)?c:typeof c=="object"&&typeof c.length=="number"?[...c]:[c]}function a(c,l,d){if(!(this instanceof a))return new a(c,l,d);let f=c;if(typeof c=="string"&&(f=document.querySelectorAll(c)),!f){r.error(`Bad element for imagesLoaded ${f||c}`);return}this.elements=i(f),this.options={},typeof l=="function"?d=l:Object.assign(this.options,l),d&&this.on("always",d),this.getImages(),s&&(this.jqDeferred=new s.Deferred),setTimeout(this.check.bind(this))}a.prototype=Object.create(o.prototype),a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const u=[1,9,11];a.prototype.addElementImages=function(c){c.nodeName==="IMG"&&this.addImage(c),this.options.background===!0&&this.addElementBackgroundImages(c);let{nodeType:l}=c;if(!l||!u.includes(l))return;let d=c.querySelectorAll("img");for(let f of d)this.addImage(f);if(typeof this.options.background=="string"){let f=c.querySelectorAll(this.options.background);for(let v of f)this.addElementBackgroundImages(v)}};const h=/url\((['"])?(.*?)\1\)/gi;a.prototype.addElementBackgroundImages=function(c){let l=getComputedStyle(c);if(!l)return;let d=h.exec(l.backgroundImage);for(;d!==null;){let f=d&&d[2];f&&this.addBackground(f,c),d=h.exec(l.backgroundImage)}},a.prototype.addImage=function(c){let l=new p(c);this.images.push(l)},a.prototype.addBackground=function(c,l){let d=new m(c,l);this.images.push(d)},a.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let c=(l,d,f)=>{setTimeout(()=>{this.progress(l,d,f)})};this.images.forEach(function(l){l.once("progress",c),l.check()})},a.prototype.progress=function(c,l,d){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!c.isLoaded,this.emitEvent("progress",[this,c,l]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,c),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&r&&r.log(`progress: ${d}`,c,l)},a.prototype.complete=function(){let c=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(c,[this]),this.emitEvent("always",[this]),this.jqDeferred){let l=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[l](this)}};function p(c){this.img=c}p.prototype=Object.create(o.prototype),p.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},p.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},p.prototype.confirm=function(c,l){this.isLoaded=c;let{parentNode:d}=this.img,f=d.nodeName==="PICTURE"?d:this.img;this.emitEvent("progress",[this,f,l])},p.prototype.handleEvent=function(c){let l="on"+c.type;this[l]&&this[l](c)},p.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},p.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},p.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function m(c,l){this.url=c,this.element=l,this.img=new Image}return m.prototype=Object.create(p.prototype),m.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},m.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},m.prototype.confirm=function(c,l){this.isLoaded=c,this.emitEvent("progress",[this,this.element,l])},a.makeJQueryPlugin=function(c){c=c||n.jQuery,c&&(s=c,s.fn.imagesLoaded=function(l,d){return new a(this,l,d).jqDeferred.promise(s(this))})},a.makeJQueryPlugin(),a})})(U);var Nt=U.exports;const Ft=Y(Nt);function V(e){var n;let t;return e.fileType==="video"?(t=(n=e.src)==null?void 0:n.replace(/(.*)view.*$/,"$1preview?"),y.jsx("iframe",{src:t,frameBorder:"0",allowFullScreen:!0})):(t=`https://keyol.vercel.app/image?url=${e.src}`,y.jsx("img",{src:t,alt:""}))}class J extends g.Component{constructor(t){super(t)}componentDidUpdate(){this.props.state&&document.body.style.overflow!=="hidden"?document.body.style.overflow="hidden":!this.props.state&&document.body.style.overflow!=="unset"&&(document.body.style.overflow="unset")}componentWillUnmount(){document.body.style.overflow="unset"}render(){var t,n;return y.jsx(Z,{isOpen:this.props.state,onRequestClose:this.props.close,style:{content:{padding:0,position:"absolute",display:"flex",justifyContent:"center",transform:"translate(-50%, -50%)",right:"auto",bottom:"auto",maxHeight:"90vh",aspectRatio:`${(t=this.props.file)==null?void 0:t.width} / ${(n=this.props.file)==null?void 0:n.height}`,height:"auto",width:"auto"},overlay:{backgroundColor:"var(--overlay-color)"}},children:y.jsx(V,{...this.props.file})})}}J.propTypes={close:C.func,state:C.bool,file:C.object};V.propTypes={fileType:C.string,src:C.string};function Ht(e){return function(n){const o=tt(),s=et();return y.jsx(e,{...n,params:o,location:s})}}function _(e){return e<768?e/1.5:e/2.5}function M(e){const{imageProps:t,photo:n}=e;return t.src=`https://keyol.vercel.app/image?url=${encodeURIComponent(n.thumbnailLink)}`,y.jsx("img",{...t})}class K extends g.Component{constructor(t){super(t),this.state={folders:{},isLoaded:!1,title:this.props.title,modal:{state:!1,file:{}}}}initialize(){window.scrollTo(0,0),this.setState({isLoaded:!1,folders:{},title:this.props.title}),"caches"in window&&caches.open("images").then(t=>{t.match(this.props.title).then(n=>{n?n.json().then(o=>{Date.now()-o.timestamp<5*60*1e3?this.setState({folders:o.folders,isLoaded:!0}):fetch(`https://keyol.vercel.app/images?folderId=1KEjiPWNH6mCO0b-VrK8Ax9a2PBXDgD9s&folderPath=${this.props.location.pathname.substring(1)}`).then(s=>s.json()).then(s=>{const r=new Response(JSON.stringify({folders:s,timestamp:Date.now()}));t.put(this.props.title,r),this.setState({folders:s,isLoaded:!0})}).catch(s=>{throw new Error(s)})}):fetch(`https://keyol.vercel.app/images?folderId=1KEjiPWNH6mCO0b-VrK8Ax9a2PBXDgD9s&folderPath=${this.props.location.pathname.substring(1)}`).then(o=>o.json()).then(o=>{const s=new Response(JSON.stringify({folders:o,timestamp:Date.now()}));t.put(this.props.title,s),this.setState({folders:o,isLoaded:!0})}).catch(o=>{throw new Error(o)})})})}componentDidMount(){this.initialize()}componentDidUpdate(t,n){t.title!==this.props.title&&this.initialize(),!n.folders&&this.state.folders&&Ft(".react-photo-album",o=>{!o.images.length&&this.state.isLoaded||this.setState({isLoaded:!0})})}render(){var r;const{isLoaded:t,title:n,modal:o,folders:s}=this.state;return y.jsxs(y.Fragment,{children:[y.jsx(J,{...o,close:()=>this.setState({modal:{state:!1,src:""}})}),y.jsxs(nt,{children:[t?void 0:y.jsx(ot,{}),y.jsx(st,{children:y.jsx("h2",{children:n})}),(r=s==null?void 0:s.folders)==null?void 0:r.map(({files:i,name:a})=>y.jsx(A,{layout:"rows",photos:i,targetRowHeight:_,onClick:({index:u})=>{this.setState({modal:{state:!0,file:i[u]}})},renderPhoto:u=>y.jsx(M,{...u})},a)),y.jsx(A,{layout:"rows",photos:s==null?void 0:s.files,targetRowHeight:_,onClick:({index:i})=>{this.setState({modal:{state:!0,file:s==null?void 0:s.files[i]}})},renderPhoto:i=>y.jsx(M,{...i})}),y.jsx(Tt,{})]})]})}}const Ut=Ht(K);K.propTypes={title:C.string,location:C.object};M.propTypes={photo:C.object,imageProps:C.object};export{Ut as default};
