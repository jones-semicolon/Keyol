import{r as d,j as s,C as l,L as h,T as m,G as c,b as f,d as p}from"./index-20d53637.js";class x extends d.Component{constructor(o){super(o),this.state={folder:[],isLoaded:!1}}initialize(){window.scrollTo(0,0),this.setState({isLoaded:!1}),"caches"in window&&caches.open("folders").then(o=>{o.match("home").then(n=>{n?n.json().then(e=>{Date.now()-e.timestamp<5*60*1e3?this.setState({folder:e.folder,isLoaded:!0}):fetch(`${{}.VITE_BASE_API}/images?folderId=1KEjiPWNH6mCO0b-VrK8Ax9a2PBXDgD9s&range=3`).then(t=>t.json()).then(t=>{const a=new Response(JSON.stringify({folder:t.folders,timestamp:Date.now()}));o.put("home",a),this.setState({folder:t.folders,isLoaded:!0})}).catch(t=>{throw new Error(t)})}):fetch(`${{}.VITE_BASE_API}/images?folderId=1KEjiPWNH6mCO0b-VrK8Ax9a2PBXDgD9s&range=3`).then(e=>e.json()).then(e=>{console.log(e);const t=new Response(JSON.stringify({folder:e.folders,timestamp:Date.now()}));o.put("home",t),this.setState({folder:e.folders,isLoaded:!0})}).catch(e=>{throw new Error(e)})})})}componentDidMount(){this.initialize()}componentDidUpdate(o,n){!n.folder&&this.state.folder&&this.initialize()}render(){const{folder:o,isLoaded:n}=this.state;return s.jsxs(l,{children:[n?void 0:s.jsx(h,{}),s.jsx(m,{children:s.jsx("h3",{children:"My name is Caeoal Armentano and I am a passionate photographer dedicated to capturing the fleeting beauty of people."})}),s.jsx(c,{className:"gallery",children:o==null?void 0:o.map(({name:e,files:t,folders:a},i)=>{var r;if(!(!e&&!t.length))return s.jsxs(f,{to:`/${e}`,delay:i,children:[s.jsx("img",{src:t.length?`${{}.VITE_BASE_API}/image?url=${encodeURIComponent(t[0].thumbnailLink)}`:`${{}.VITE_BASE_API}/image?url=${encodeURIComponent((r=a[0])==null?void 0:r.files[0].thumbnailLink)}`,loading:"lazy"}),s.jsx(p,{children:e})]},i)})})]})}}export{x as default};
