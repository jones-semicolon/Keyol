import{r as g,j as w,S as K,F as X,c as z,g as Q,P as C,R as Y,u as Z,a as tt,C as et,L as nt,T as ot}from"./index-5cffc7bf.js";import{a as $}from"./axios-4a70c6fc.js";function v({width:n,height:e}){return n/e}function P(n,e=0){const o=10**e;return Math.round((n+Number.EPSILON)*o)/o}function st(n){return(e,o)=>n(o)-n(e)}class rt{constructor(e){this.comparator=e,this.heap=[],this.n=0}greater(e,o){return this.comparator(this.heap[e],this.heap[o])<0}swap(e,o){const t=this.heap[e];this.heap[e]=this.heap[o],this.heap[o]=t}swim(e){let o=e,t=Math.floor(o/2);for(;o>1&&this.greater(t,o);)this.swap(t,o),o=t,t=Math.floor(o/2)}sink(e){let o=e,t=o*2;for(;t<=this.n&&(t<this.n&&this.greater(t,t+1)&&(t+=1),!!this.greater(o,t));)this.swap(o,t),o=t,t=o*2}push(e){this.n+=1,this.heap[this.n]=e,this.swim(this.n)}pop(){if(this.n===0)return;this.swap(1,this.n),this.n-=1;const e=this.heap.pop();return this.sink(1),e}size(){return this.n}}function it(n,e,o){const t=new Map,s=new Set,r=new Map;r.set(e,0);const a=new rt(st(i=>i.weight));for(a.push({id:e,weight:0});a.size()>0;){const{id:i,weight:u}=a.pop();if(!s.has(i)){const h=n(i);s.add(i),h.forEach((p,m)=>{const c=u+p,l=t.get(m),d=r.get(m);(d===void 0||d>c&&(d/c>1.005||l!==void 0&&l<i))&&(r.set(m,c),a.push({id:m,weight:c}),t.set(m,i))})}}return r.has(o)?t:void 0}function at(n,e){const o=[];for(let t=e;t!==void 0;t=n.get(t))o.push(t);return o.reverse()}function ct(n,e,o){const t=it(n,e,o);return t?at(t,o):void 0}function lt({photos:n,targetRowHeight:e,containerWidth:o}){const t=n.reduce((s,r)=>Math.min(v(r),s),Number.MAX_VALUE);return P(o/e/t)+2}function B(n,e,o,t){const s=e-(n.length-1)*o-2*t*n.length,r=n.reduce((a,i)=>a+v(i),0);return s/r}function ut(n,e,o,t,s,r,a){const i=n.slice(e,o),u=B(i,t,r,a);return u>0?(u-s)**2*i.length:void 0}function ht({photos:n,layoutOptions:e,targetRowHeight:o,limitNodeSearch:t,rowConstraints:s}){return r=>{var a,i;const{containerWidth:u,spacing:h,padding:p}=e,m=new Map;m.set(r,0);const c=(a=s==null?void 0:s.minPhotos)!=null?a:1,l=Math.min(t,(i=s==null?void 0:s.maxPhotos)!=null?i:1/0);for(let d=r+c;d<n.length+1&&!(d-r>l);d+=1){const f=ut(n,r,d,u,o,h,p);if(f===void 0)break;m.set(d,f)}return m}}function dt({photos:n,layoutOptions:e}){const{spacing:o,padding:t,containerWidth:s,targetRowHeight:r,rowConstraints:a}=e,i=lt({photos:n,containerWidth:s,targetRowHeight:r}),u=ht({photos:n,layoutOptions:e,targetRowHeight:r,limitNodeSearch:i,rowConstraints:a}),h=ct(u,0,n.length);if(h===void 0)return;const p=[];for(let m=1;m<h.length;m+=1){const c=n.map((d,f)=>({photo:d,index:f})).slice(h[m-1],h[m]),l=B(c.map(({photo:d})=>d),s,o,t);p.push(c.map(({photo:d,index:f},y)=>({photo:d,layout:{height:l,width:l*v(d),index:f,photoIndex:y,photosCount:c.length}})))}return p}function b(...n){return[...n].filter(e=>!!e).join(" ")}function q(n,{width:e,photosCount:o},{spacing:t,padding:s,containerWidth:r}){const a=t*(o-1)+2*s*o;return`calc((${n} - ${a}px) / ${P((r-a)/e,5)})`}function pt(n,e){return e.layout!=="rows"?`calc(100% - ${2*e.padding}px)`:q("100%",n,e)}function O(n,e,o){var t,s;return q((s=(t=n.match(/calc\((.*)\)/))==null?void 0:t[1])!=null?s:n,e,o)}function mt(n,e,o){let t,s;const r=n.srcSet||n.images;return r&&r.length>0&&(t=r.concat(r.find(({width:a})=>a===n.width)?[]:[{src:n.src,width:n.width,height:n.height}]).sort((a,i)=>a.width-i.width).map(a=>`${a.src} ${a.width}w`).join(", ")),o.sizes?s=(o.sizes.sizes||[]).map(({viewport:a,size:i})=>`${a} ${O(i,e,o)}`).concat(O(o.sizes.size,e,o)).join(", "):t&&(s=`${Math.ceil(e.width/o.containerWidth*100)}vw`),{srcSet:t,sizes:s}}function M(n){var e,o;const{photo:t,layout:s,layoutOptions:r,imageProps:{style:a,className:i,...u}={},renderPhoto:h}=n,{onClick:p}=r,m={display:"block",boxSizing:"content-box",width:pt(s,r),height:"auto",aspectRatio:`${t.width} / ${t.height}`,...r.padding?{padding:`${r.padding}px`}:null,...(r.layout==="columns"||r.layout==="masonry")&&s.photoIndex<s.photosCount-1?{marginBottom:`${r.spacing}px`}:null,...p?{cursor:"pointer"}:null,...a},c=p?y=>{p({event:y,photo:t,index:s.index})}:void 0,l={src:t.src,alt:(e=t.alt)!=null?e:"",title:t.title,onClick:c,style:m,className:b("react-photo-album--photo",i),loading:"lazy",decoding:"async",...mt(t,s,r),...u},d=y=>{const{src:k,alt:R,srcSet:x,sizes:L,style:j,...I}=l;return g.createElement("img",{alt:R,...x?{srcSet:x,sizes:L}:null,src:k,style:y!=null&&y.wrapped?{display:"block",width:"100%",height:"100%"}:j,...I})},f=(({display:y,boxSizing:k,width:R,aspectRatio:x,padding:L,marginBottom:j,cursor:I})=>({display:y,boxSizing:k,width:R,aspectRatio:x,padding:L,marginBottom:j,cursor:I}))(m);return g.createElement(g.Fragment,null,(o=h==null?void 0:h({photo:t,layout:s,layoutOptions:r,imageProps:l,renderDefaultPhoto:d,wrapperStyle:f}))!=null?o:d())}function ft({rowContainerProps:n,children:e}){return g.createElement("div",{...n},e)}function gt(n){const{layoutOptions:e,rowIndex:o,rowsCount:t,renderRowContainer:s,rowContainerProps:{style:r,className:a,...i}={},children:u}=n,h={className:b("react-photo-album--row",a),style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"flex-start",justifyContent:"space-between",...o<t-1?{marginBottom:`${e.spacing}px`}:null,...r},...i};return g.createElement(g.Fragment,null,(s??ft)({layoutOptions:e,rowIndex:o,rowsCount:t,rowContainerProps:h,children:u}))}function yt(n){const{photos:e,layoutOptions:o,renderPhoto:t,renderRowContainer:s,componentsProps:r}=n,a=dt({photos:e,layoutOptions:o});return a?g.createElement(g.Fragment,null,a.map((i,u)=>g.createElement(gt,{key:`row-${u}`,layoutOptions:o,rowIndex:u,rowsCount:a.length,renderRowContainer:s,rowContainerProps:r==null?void 0:r.rowContainerProps},i.map(({photo:h,layout:p})=>g.createElement(M,{key:h.key||h.src,photo:h,layout:p,layoutOptions:o,renderPhoto:t,imageProps:r==null?void 0:r.imageProps}))))):null}function wt(n,e,o,t){const s=new Map,r=new Set;r.add(o);for(let a=0;a<e;a+=1){const i=[...r.keys()];r.clear(),i.forEach(u=>{const h=a>0?s.get(u)[a].weight:0;n(u).forEach(({neighbor:p,weight:m})=>{let c=s.get(p);c||(c=[],s.set(p,c));const l=h+m,d=c[a+1];(!d||d.weight>l&&(d.weight/l>1.0001||u<d.node))&&(c[a+1]={node:u,weight:l}),a<e-1&&p!==t&&r.add(p)})})}return s}function vt(n,e,o){const t=[o];for(let s=o,r=e;r>0;r-=1)s=n.get(s)[r].node,t.push(s);return t.reverse()}function Ct(n,e,o,t){return vt(wt(n,e,o,t),e,t)}function xt({photos:n,spacing:e,padding:o,targetColumnWidth:t,targetColumnHeight:s}){return r=>{const a=[],i=s*1.5;let u=t/v(n[r])+2*o;for(let h=r+1;h<n.length+1&&(a.push({neighbor:h,weight:(s-u)**2}),!(u>i||h===n.length));h+=1)u+=t/v(n[h])+e+2*o;return a}}function W({path:n,photos:e,containerWidth:o,columnsGaps:t,columnsRatios:s,spacing:r,padding:a}){const i=[],u=s.reduce((h,p)=>h+p,0);for(let h=0;h<n.length-1;h+=1){const p=e.map((l,d)=>({photo:l,index:d})).slice(n[h],n[h+1]),m=s.reduce((l,d,f)=>l+(t[h]-t[f])*d,0),c=(o-(n.length-2)*r-2*(n.length-1)*a-m)*s[h]/u;i.push(p.map(({photo:l,index:d},f)=>({photo:l,layout:{width:c,height:c/v(l),index:d,photoIndex:f,photosCount:p.length}})))}return i}function Et({photos:n,layoutOptions:e,targetColumnWidth:o}){const{columns:t,spacing:s,padding:r,containerWidth:a}=e,i=[],u=[];if(n.length<=t){const l=n.length>0?n.reduce((f,y)=>f+v(y),0)/n.length:1;for(let f=0;f<t;f+=1)i[f]=2*r,u[f]=f<n.length?v(n[f]):l;const d=W({path:Array.from({length:t+1}).map((f,y)=>Math.min(y,n.length)),photos:n,columnsRatios:u,columnsGaps:i,containerWidth:a,spacing:s,padding:r});return{columnsGaps:i,columnsRatios:u,columnsModel:d}}const h=(n.reduce((l,d)=>l+o/v(d),0)+s*(n.length-t)+2*r*n.length)/t,p=xt({photos:n,targetColumnWidth:o,targetColumnHeight:h,spacing:s,padding:r}),m=Ct(p,t,0,n.length);for(let l=0;l<m.length-1;l+=1){const d=n.slice(m[l],m[l+1]);i[l]=s*(d.length-1)+2*r*d.length,u[l]=1/d.reduce((f,y)=>f+1/v(y),0)}const c=W({path:m,photos:n,columnsRatios:u,columnsGaps:i,containerWidth:a,spacing:s,padding:r});return{columnsGaps:i,columnsRatios:u,columnsModel:c}}function N(n){const{photos:e,layoutOptions:o}=n,{columns:t,spacing:s,padding:r,containerWidth:a}=o,i=(a-s*(t-1)-2*r*t)/t,{columnsGaps:u,columnsRatios:h,columnsModel:p}=Et({photos:e,layoutOptions:o,targetColumnWidth:i});return p.findIndex(m=>m.findIndex(({layout:{width:c,height:l}})=>c<0||l<0)>=0)>=0?t>1?N({photos:e,layoutOptions:{...o,columns:t-1}}):void 0:{columnsModel:p,columnsGaps:u,columnsRatios:h}}function Pt({photos:n,layoutOptions:e}){return N({photos:n,layoutOptions:e})}function bt({columnContainerProps:n,children:e}){return g.createElement("div",{...n},e)}function kt(n){const{layoutOptions:e,columnIndex:o,columnsCount:t,columnsGaps:s,columnsRatios:r}=n,{layout:a,spacing:i,padding:u}=e;if(a==="masonry"||!s||!r)return`calc((100% - ${i*(t-1)}px) / ${t})`;const h=r.reduce((m,c)=>m+c,0),p=r.reduce((m,c,l)=>m+(s[o]-s[l])*c,0);return`calc((100% - ${P((t-1)*i+2*t*u+p,3)}px) * ${P(r[o]/h,5)} + ${2*u}px)`}function T(n){const{layoutOptions:e,renderColumnContainer:o,children:t,columnContainerProps:{style:s,className:r,...a}={},...i}=n,u={className:b("react-photo-album--column",r),style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"flex-start",width:kt(n),justifyContent:e.layout==="columns"?"space-between":"flex-start",...s},...a};return g.createElement(g.Fragment,null,(o??bt)({layoutOptions:e,columnContainerProps:u,children:t,...i}))}function Rt(n){const{photos:e,layoutOptions:o,renderPhoto:t,renderColumnContainer:s,componentsProps:r}=n,a=Pt({photos:e,layoutOptions:o});if(!a)return null;const{columnsModel:i,columnsRatios:u,columnsGaps:h}=a;return g.createElement(g.Fragment,null,i.map((p,m)=>g.createElement(T,{key:`column-${m}`,layoutOptions:o,columnIndex:m,columnsCount:i.length,columnsGaps:h,columnsRatios:u,renderColumnContainer:s,columnContainerProps:r==null?void 0:r.columnContainerProps},p.map(({photo:c,layout:l})=>g.createElement(M,{key:c.key||c.src,photo:c,layout:l,layoutOptions:o,renderPhoto:t,imageProps:r==null?void 0:r.imageProps})))))}function F(n){const{photos:e,layoutOptions:o}=n,{columns:t,spacing:s,padding:r,containerWidth:a}=o,i=(a-s*(t-1)-2*r*t)/t;if(i<=0)return t>1?F({...n,layoutOptions:{...o,columns:t-1}}):void 0;const u=[];for(let p=0;p<t;p+=1)u[p]=0;return e.reduce((p,m,c)=>{const l=u.reduce((d,f,y)=>f<u[d]-1?y:d,0);return u[l]=u[l]+i/v(m)+s+2*r,p[l].push({photo:m,index:c}),p},Array.from({length:t}).map(()=>[])).map(p=>p.map(({photo:m,index:c},l)=>({photo:m,layout:{width:i,height:i/v(m),index:c,photoIndex:l,photosCount:p.length}})))}function Lt(n){const{photos:e,layoutOptions:o,renderPhoto:t,renderColumnContainer:s,componentsProps:r}=n,a=F({photos:e,layoutOptions:o});return a?g.createElement(g.Fragment,null,a.map((i,u)=>g.createElement(T,{key:`masonry-column-${u}`,layoutOptions:o,columnsCount:a.length,columnIndex:u,renderColumnContainer:s,columnContainerProps:r==null?void 0:r.columnContainerProps},i.map(({photo:h,layout:p})=>g.createElement(M,{key:h.key||h.src,photo:h,layout:p,layoutOptions:o,renderPhoto:t,imageProps:r==null?void 0:r.imageProps}))))):null}function jt({containerProps:n,children:e,containerRef:o}){return g.createElement("div",{ref:o,...n},e)}function It(n){const{layout:e,renderContainer:o,children:t,containerRef:s,containerProps:{style:r,className:a,...i}={}}=n,u={className:b("react-photo-album",`react-photo-album--${e}`,a),style:{display:"flex",flexWrap:"nowrap",justifyContent:"space-between",flexDirection:e==="rows"?"column":"row",...r},...i};return g.createElement(g.Fragment,null,(o??jt)({containerProps:u,containerRef:s,layout:e,children:t}))}function St(n){const e=g.useRef(n);return(!n||!e.current||n.join()!==e.current.join())&&(e.current=n),e.current}function Mt(n,{newContainerWidth:e,newScrollbarWidth:o}){const{containerWidth:t,scrollbarWidth:s}=n;return t!==void 0&&s!==void 0&&e!==void 0&&o!==void 0&&e>t&&e-t<=20&&o<s?{containerWidth:t,scrollbarWidth:o}:t!==e||s!==o?{containerWidth:e,scrollbarWidth:o}:n}function $t(n,e){let o=n==null?void 0:n.clientWidth;if(o!==void 0&&e&&e.length>0){const t=[...e.filter(r=>r>0)].sort((r,a)=>a-r);t.push(Math.floor(t[t.length-1]/2));const s=o;o=t.find((r,a)=>r<=s||a===t.length-1)}return o}function Ot(n,e){const[{containerWidth:o},t]=g.useReducer(Mt,{containerWidth:e}),s=g.useRef(null),r=g.useRef();return{containerRef:g.useCallback(i=>{var u;(u=r.current)==null||u.disconnect(),r.current=void 0,s.current=i;const h=()=>t({newContainerWidth:$t(s.current,n),newScrollbarWidth:window.innerWidth-document.documentElement.clientWidth});h(),i&&typeof ResizeObserver<"u"&&(r.current=new ResizeObserver(h),r.current.observe(i))},[n]),containerWidth:o}}const Wt=Object.freeze([1200,600,300,0]);function H(n,e){return typeof n=="function"?n(e):n}function G(n,e){return typeof n<"u"?H(n,e):void 0}function At(n,e){const o=Wt.findIndex(t=>t<=e);return H(n[o>=0?o:0],e)}function E(n,e,o,t=0){const s=G(n,e);return Math.round(Math.max(s===void 0?At(o,e):s,t))}function Dt({layout:n,onClick:e,containerWidth:o,targetRowHeight:t,rowConstraints:s,columns:r,spacing:a,padding:i,sizes:u}){return{layout:n,onClick:e,containerWidth:o,columns:E(r,o,[5,4,3,2],1),spacing:E(a,o,[20,15,10,5]),padding:E(i,o,[0,0,0,0,0]),targetRowHeight:E(t,o,[h=>h/5,h=>h/4,h=>h/3,h=>h/2]),rowConstraints:G(s,o),sizes:u}}function _t(n,e){return typeof n=="function"?n(e):n}function zt(n,e,o){const{photos:t,layout:s,renderPhoto:r,renderRowContainer:a,renderColumnContainer:i}=n,u=Dt({containerWidth:e,...n}),h={photos:t,renderPhoto:r,componentsProps:o};return s==="rows"?g.createElement(yt,{layoutOptions:u,renderRowContainer:a,...h}):s==="columns"?g.createElement(Rt,{layoutOptions:u,renderColumnContainer:i,...h}):g.createElement(Lt,{layoutOptions:u,renderColumnContainer:i,...h})}function A(n){const{photos:e,layout:o,renderContainer:t,defaultContainerWidth:s,breakpoints:r}=n,{containerRef:a,containerWidth:i}=Ot(St(r),s);if(!o||!["rows","columns","masonry"].includes(o)||!Array.isArray(e))return null;const u=_t(n.componentsProps,i);return g.createElement(It,{layout:o,containerRef:a,renderContainer:t,containerProps:u==null?void 0:u.containerProps},i?zt(n,i,u):null)}class Bt extends g.Component{constructor(e){super(e),this.state={isScrolled:!1}}componentDidMount(){window.addEventListener("scroll",()=>{window.scrollY>=200?this.setState({isScrolled:!0}):this.setState({isScrolled:!1})})}render(){const{isScrolled:e}=this.state;return w.jsx(K,{scrolled:e?"flex":"none",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:w.jsx(X,{icon:["fas","chevron-up"]})})}}var U={exports:{}},S={exports:{}},D;function qt(){return D||(D=1,function(n){(function(e,o){n.exports?n.exports=o():e.EvEmitter=o()})(typeof window<"u"?window:z,function(){function e(){}let o=e.prototype;return o.on=function(t,s){if(!t||!s)return this;let r=this._events=this._events||{},a=r[t]=r[t]||[];return a.includes(s)||a.push(s),this},o.once=function(t,s){if(!t||!s)return this;this.on(t,s);let r=this._onceEvents=this._onceEvents||{},a=r[t]=r[t]||{};return a[s]=!0,this},o.off=function(t,s){let r=this._events&&this._events[t];if(!r||!r.length)return this;let a=r.indexOf(s);return a!=-1&&r.splice(a,1),this},o.emitEvent=function(t,s){let r=this._events&&this._events[t];if(!r||!r.length)return this;r=r.slice(0),s=s||[];let a=this._onceEvents&&this._onceEvents[t];for(let i of r)a&&a[i]&&(this.off(t,i),delete a[i]),i.apply(this,s);return this},o.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(S)),S.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(n){(function(e,o){n.exports?n.exports=o(e,qt()):e.imagesLoaded=o(e,e.EvEmitter)})(typeof window<"u"?window:z,function(o,t){let s=o.jQuery,r=o.console;function a(c){return Array.isArray(c)?c:typeof c=="object"&&typeof c.length=="number"?[...c]:[c]}function i(c,l,d){if(!(this instanceof i))return new i(c,l,d);let f=c;if(typeof c=="string"&&(f=document.querySelectorAll(c)),!f){r.error(`Bad element for imagesLoaded ${f||c}`);return}this.elements=a(f),this.options={},typeof l=="function"?d=l:Object.assign(this.options,l),d&&this.on("always",d),this.getImages(),s&&(this.jqDeferred=new s.Deferred),setTimeout(this.check.bind(this))}i.prototype=Object.create(t.prototype),i.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const u=[1,9,11];i.prototype.addElementImages=function(c){c.nodeName==="IMG"&&this.addImage(c),this.options.background===!0&&this.addElementBackgroundImages(c);let{nodeType:l}=c;if(!l||!u.includes(l))return;let d=c.querySelectorAll("img");for(let f of d)this.addImage(f);if(typeof this.options.background=="string"){let f=c.querySelectorAll(this.options.background);for(let y of f)this.addElementBackgroundImages(y)}};const h=/url\((['"])?(.*?)\1\)/gi;i.prototype.addElementBackgroundImages=function(c){let l=getComputedStyle(c);if(!l)return;let d=h.exec(l.backgroundImage);for(;d!==null;){let f=d&&d[2];f&&this.addBackground(f,c),d=h.exec(l.backgroundImage)}},i.prototype.addImage=function(c){let l=new p(c);this.images.push(l)},i.prototype.addBackground=function(c,l){let d=new m(c,l);this.images.push(d)},i.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let c=(l,d,f)=>{setTimeout(()=>{this.progress(l,d,f)})};this.images.forEach(function(l){l.once("progress",c),l.check()})},i.prototype.progress=function(c,l,d){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!c.isLoaded,this.emitEvent("progress",[this,c,l]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,c),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&r&&r.log(`progress: ${d}`,c,l)},i.prototype.complete=function(){let c=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(c,[this]),this.emitEvent("always",[this]),this.jqDeferred){let l=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[l](this)}};function p(c){this.img=c}p.prototype=Object.create(t.prototype),p.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},p.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},p.prototype.confirm=function(c,l){this.isLoaded=c;let{parentNode:d}=this.img,f=d.nodeName==="PICTURE"?d:this.img;this.emitEvent("progress",[this,f,l])},p.prototype.handleEvent=function(c){let l="on"+c.type;this[l]&&this[l](c)},p.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},p.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},p.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function m(c,l){this.url=c,this.element=l,this.img=new Image}return m.prototype=Object.create(p.prototype),m.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},m.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},m.prototype.confirm=function(c,l){this.isLoaded=c,this.emitEvent("progress",[this,this.element,l])},i.makeJQueryPlugin=function(c){c=c||o.jQuery,c&&(s=c,s.fn.imagesLoaded=function(l,d){return new i(this,l,d).jqDeferred.promise(s(this))})},i.makeJQueryPlugin(),i})})(U);var Nt=U.exports;const Tt=Q(Nt);class V extends g.Component{constructor(e){super(e)}componentDidUpdate(){this.props.state&&document.body.style.overflow!=="hidden"?document.body.style.overflow="hidden":!this.props.state&&document.body.style.overflow!=="unset"&&(document.body.style.overflow="unset")}componentWillUnmount(){document.body.style.overflow="unset"}render(){return w.jsx(Y,{isOpen:this.props.state,onRequestClose:this.props.close,style:{content:{padding:0,position:"absolute",display:"flex",justifyContent:"center",transform:"translate(-50%, -50%)",right:"auto",bottom:"auto",maxHeight:"90vh",aspectRatio:`${this.props.width} / ${this.props.height}`,height:"auto",width:"auto"},overlay:{backgroundColor:"var(--overlay-color)"}},children:this.props.fileType==="video"?w.jsx("video",{src:this.props.src,autoPlay:!0,controls:!0,playsInline:!0,controlsList:"nodownload disablepictureinpicture",style:{width:"100%",objectFit:"contain"}}):w.jsx("img",{src:this.props.src,alt:"",style:{width:"100%",objectFit:"contain"}})})}}V.propTypes={src:C.string,close:C.func,state:C.bool,fileType:C.string,height:C.number,width:C.number};function Ft(n){return function(o){const t=Z(),s=tt();return w.jsx(n,{...o,params:t,location:s})}}function _(n){return n<768?n/1.5:n/2.5}class J extends g.Component{constructor(e){super(e),this.state={folders:{},isLoaded:!1,title:this.props.title,modal:{state:!1,src:"",height:0,width:0}}}initialize(){window.scrollTo(0,0),this.setState({isLoaded:!1}),"caches"in window&&caches.open("images").then(e=>{e.match(this.props.title).then(o=>{o?o.json().then(t=>{Date.now()-t.timestamp<5*60*1e3?this.setState({folders:t.folders,isLoaded:!0}):$.get(`/images?folderId=1KEjiPWNH6mCO0b-VrK8Ax9a2PBXDgD9s&folder=${this.props.location.pathname.substring(1)}`).then(s=>{const r=new Response(JSON.stringify({folders:s.data,timestamp:Date.now()}));e.put(this.props.title,r),this.setState({folders:s.data,isLoaded:!0})}).catch(s=>{throw new Error(s)})}):$.get(`/images?folderId=1KEjiPWNH6mCO0b-VrK8Ax9a2PBXDgD9s&folder=${this.props.location.pathname.substring(1)}`).then(t=>{const s=new Response(JSON.stringify({folders:t.data,timestamp:Date.now()}));e.put(this.props.title,s),this.setState({folders:t.data,isLoaded:!0})}).catch(t=>{throw new Error(t)})})})}componentDidMount(){this.initialize()}componentDidUpdate(e,o){e.title!==this.props.title&&this.initialize(),!o.folders&&this.state.folders&&Tt(".react-photo-album",t=>{!t.images.length&&this.state.isLoaded||this.setState({isLoaded:!0})})}render(){var r;const{isLoaded:e,title:o,modal:t,folders:s}=this.state;return w.jsxs(w.Fragment,{children:[w.jsx(V,{...t,close:()=>this.setState({modal:{state:!1,src:""}})}),w.jsxs(et,{children:[e?void 0:w.jsx(nt,{}),w.jsx(ot,{children:w.jsx("h2",{children:o})}),(r=s==null?void 0:s.folders)==null?void 0:r.map(({files:a,name:i})=>w.jsx(A,{layout:"rows",photos:a,targetRowHeight:_,onClick:({index:u})=>{this.setState({modal:{state:!0,...a[u]}})}},i)),w.jsx(A,{layout:"rows",photos:s==null?void 0:s.files,targetRowHeight:_,onClick:({index:a})=>{this.setState({modal:{state:!0,...s==null?void 0:s.files[a]}})},renderPhoto:({photo:a,imageProps:i})=>a.fileType==="video"?w.jsx("video",{...i}):w.jsx("img",{...i})}),w.jsx(Bt,{})]})]})}}const Ut=Ft(J);J.propTypes={title:C.string,location:C.object};export{Ut as default};
